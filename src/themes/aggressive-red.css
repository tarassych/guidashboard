/**
 * Aggressive Red Theme
 * A bloody red combat HUD theme for drone telemetry
 */

/* ========== THEME VARIABLES ========== */
body.theme-aggressive-red {
  /* Background colors */
  --theme-bg-dark: #0a0808;
  --theme-bg-overlay: rgba(20, 5, 5, 0.75);
  --theme-bg-gradient-start: rgba(15, 5, 5, 0.9);
  --theme-bg-gradient-end: rgba(15, 5, 5, 0.95);
  
  /* Primary accent - Blood Red */
  --theme-accent-primary: #ff2244;
  --theme-accent-primary-rgb: 255, 34, 68;
  --theme-accent-primary-dim: rgba(255, 34, 68, 0.15);
  --theme-accent-primary-glow: rgba(255, 34, 68, 0.4);
  --theme-accent-primary-border: rgba(255, 34, 68, 0.3);
  
  /* Secondary accent - Dark Orange */
  --theme-accent-secondary: #ff6622;
  --theme-accent-secondary-rgb: 255, 102, 34;
  
  /* Status colors */
  --theme-status-warning: #ffaa00;
  --theme-status-warning-dim: rgba(255, 170, 0, 0.15);
  --theme-status-danger: #ff0033;
  --theme-status-danger-dim: rgba(255, 0, 51, 0.15);
  
  /* Text colors */
  --theme-text-primary: #f3e6e6;
  --theme-text-secondary: #b08b8b;
  --theme-text-muted: #6a4a4a;
  
  /* Map to standard variable names for compatibility */
  --bg-dark: var(--theme-bg-dark);
  --accent-primary: var(--theme-accent-primary);
  --accent-secondary: var(--theme-accent-secondary);
  --accent-warning: var(--theme-status-warning);
  --accent-danger: var(--theme-status-danger);
  --text-primary: var(--theme-text-primary);
  --text-secondary: var(--theme-text-secondary);
  --text-muted: var(--theme-text-muted);
  --hud-bg: var(--theme-bg-overlay);
  --hud-border: var(--theme-accent-primary-border);
  --glow: var(--theme-accent-primary-glow);
}

/* ========== BASE THEME STYLES ========== */
body {
  background: #000;
  color: var(--theme-text-primary);
}

/* ========== ANIMATIONS ========== */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.3; }
}

@keyframes pulse-ring {
  0% { r: 18; opacity: 0.4; }
  100% { r: 30; opacity: 0; }
}

@keyframes flash-entry {
  0% { background: rgba(var(--theme-accent-primary-rgb), 0.4); }
  100% { background: rgba(var(--theme-accent-primary-rgb), 0.15); }
}

/* ========== TOP BAR THEME ========== */
.hud-top-bar {
  background: linear-gradient(180deg, var(--theme-bg-gradient-start) 0%, transparent 100%);
}

.logo-icon {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 15px var(--theme-accent-primary-glow);
  animation: pulse 2s ease-in-out infinite;
}

.logo-text {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

.logo-version {
  color: var(--theme-accent-primary);
  border-color: var(--theme-accent-primary-border);
}

.hud-status-center {
  color: var(--theme-text-secondary);
}

.status-mode {
  background: var(--theme-accent-primary-dim);
  border-color: var(--theme-accent-primary);
  color: var(--theme-accent-primary);
}

.status-mode.manual {
  background: var(--theme-status-warning-dim);
  border-color: var(--theme-status-warning);
  color: var(--theme-status-warning);
}

.status-mode.offline {
  background: rgba(100, 100, 100, 0.15);
  border-color: var(--theme-text-muted);
  color: var(--theme-text-muted);
}

.status-offline {
  background: rgba(255, 68, 68, 0.15);
  border-color: var(--theme-status-danger);
  color: var(--theme-status-danger);
}

/* FS Indicator */
.status-fs {
  color: var(--theme-text-muted);
}

.status-fs.active {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 8px var(--theme-accent-primary-glow);
}

.status-flag {
  color: var(--theme-text-muted);
  padding: 2px 6px;
  border-radius: 3px;
  font-size: 0.65rem;
}

.status-flag.active {
  background: var(--theme-accent-primary-dim);
  color: var(--theme-accent-primary);
  border: 1px solid var(--theme-accent-primary-border);
}

/* ========== FUSE SWITCH THEME ========== */
.fuse-switch {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.fuse-switch.safe .fuse-body {
  background: rgba(0, 0, 0, 0.4);
  border-color: var(--theme-accent-primary-border);
}

.fuse-switch.safe .fuse-element {
  background: var(--theme-text-muted);
}

.fuse-switch.safe .fuse-label {
  color: var(--theme-text-secondary);
}

.fuse-switch.safe .fuse-status {
  color: var(--theme-accent-primary);
}

.fuse-switch.manual .manual-indicator {
  color: var(--theme-status-warning);
}

/* Armed state - ALWAYS RED regardless of theme */
.fuse-switch.armed {
  background: rgba(255, 50, 50, 0.15);
  border-color: #ff3333;
  animation: pulse 1s ease-in-out infinite;
}

.fuse-switch.armed .fuse-body {
  background: rgba(255, 50, 50, 0.2);
  border-color: #ff3333;
}

.fuse-switch.armed .fuse-element {
  background: #ff3333;
  box-shadow: 0 0 8px #ff3333;
}

.fuse-switch.armed .fuse-label {
  color: #ff3333;
  text-shadow: 0 0 8px rgba(255, 50, 50, 0.6);
}

.fuse-switch.armed .fuse-status {
  color: #ff3333;
  text-shadow: 0 0 6px rgba(255, 50, 50, 0.6);
}

/* ========== WARNING BANNER THEME (always red) ========== */
.warning-banner {
  background: linear-gradient(90deg, transparent, rgba(255, 30, 30, 0.25), transparent);
}

.warning-chevrons {
  color: #ff3333;
  text-shadow: 0 0 10px rgba(255, 50, 50, 0.8);
}

.warning-frame {
  background: rgba(255, 30, 30, 0.2);
  border-color: #ff3333;
  box-shadow: 0 0 25px rgba(255, 50, 50, 0.5), inset 0 0 20px rgba(255, 50, 50, 0.15);
}

.warning-icon {
  color: #ff3333;
  text-shadow: 0 0 12px rgba(255, 50, 50, 0.9);
}

.warning-text {
  color: #ff3333;
  text-shadow: 0 0 20px rgba(255, 50, 50, 0.9);
}

.warning-subtext {
  color: #ff6666;
  text-shadow: 0 0 10px rgba(255, 50, 50, 0.7);
}

/* ========== BATTERY THEME ========== */
.battery-indicator.good .battery-percent,
.battery-indicator.good .battery-voltage,
.battery-indicator.good {
  color: var(--theme-accent-primary);
}

.battery-indicator.warning .battery-percent,
.battery-indicator.warning .battery-voltage,
.battery-indicator.warning {
  color: var(--theme-status-warning);
}

.battery-indicator.critical .battery-percent,
.battery-indicator.critical .battery-voltage,
.battery-indicator.critical {
  color: var(--theme-status-danger);
  animation: blink 0.5s ease-in-out infinite;
}

/* ========== MIRROR THEME ========== */
.mirror-frame {
  position: relative;
  border-color: var(--theme-accent-primary-border);
  box-shadow: 
    0 0 30px rgba(0, 0, 0, 0.9), 
    0 0 15px var(--theme-accent-primary-glow),
    inset 0 0 30px rgba(var(--theme-accent-primary-rgb), 0.05);
}

.mirror-frame::before {
  background: linear-gradient(90deg, transparent, var(--theme-accent-primary), transparent);
}

/* Dark overlay on rearview mirror video */
.mirror-frame::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.35);
  pointer-events: none;
  z-index: 3;
}

.mirror-label {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 8px var(--theme-accent-primary-glow);
  background: rgba(20, 5, 5, 0.6);
  z-index: 5;
}

/* ========== HEADING TAPE THEME ========== */
.heading-tape {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.htape-label {
  color: var(--theme-text-secondary);
}

.htape-tick.main .htape-label {
  color: var(--theme-accent-primary);
}

.htape-mark {
  background: var(--theme-text-muted);
}

.htape-tick.main .htape-mark {
  background: var(--theme-accent-primary);
}

.htape-indicator {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

.htape-value {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

/* ========== COMPASS THEME ========== */
.hud-compass {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.compass-outer {
  border-color: var(--theme-accent-primary-border);
}

.compass-n, .compass-e, .compass-s, .compass-w {
  color: var(--theme-text-secondary);
}

.compass-n {
  color: var(--theme-status-warning);
}

.compass-pointer {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

.compass-deg {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

.compass-dir {
  color: var(--theme-text-secondary);
}

/* ========== SATELLITE INDICATOR THEME ========== */
.hud-satellites {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.sat-label {
  color: var(--theme-text-muted);
}

.sat-grid {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 6px;
}

.sat-dot {
  background: rgba(0, 0, 0, 0.4);
  border-color: var(--theme-accent-primary-border);
}

.sat-dot.active {
  background: var(--theme-accent-primary);
  border-color: var(--theme-accent-primary);
  box-shadow: 0 0 8px var(--theme-accent-primary-glow);
}

.sat-count {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

.sat-count.excellent {
  color: var(--theme-accent-primary);
}

.sat-count.good {
  color: var(--theme-accent-secondary);
}

.sat-count.weak {
  color: var(--theme-status-warning);
}

.sat-count.poor {
  color: var(--theme-status-danger);
}

.sat-quality {
  color: var(--theme-text-muted);
}

/* ========== QUALITY SWITCH THEME ========== */
.quality-switch {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.quality-option {
  color: var(--theme-text-muted);
}

.quality-option.active {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 8px var(--theme-accent-primary-glow);
}

.quality-toggle {
  border: 1px solid var(--theme-accent-primary-border);
}

.quality-toggle.hd {
  background: rgba(255, 68, 68, 0.2);
  border-color: var(--theme-accent-primary);
}

.quality-toggle.hd .quality-thumb {
  background: var(--theme-accent-primary);
  box-shadow: 0 0 8px var(--theme-accent-primary-glow);
}

/* ========== MAP PANEL THEME ========== */
.map-panel {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.map-header {
  border-bottom-color: var(--theme-accent-primary-border);
}

.map-title {
  color: var(--theme-accent-primary);
}

.map-alt {
  color: var(--theme-accent-secondary);
}

.map-coords {
  color: var(--theme-text-secondary);
}

.map-placeholder {
  background: rgba(0, 0, 0, 0.6);
  color: var(--theme-text-muted);
}

/* Map Zoom Controls Theme */
.zoom-btn {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
  color: var(--theme-accent-primary);
}

.zoom-btn:hover:not(:disabled) {
  background: var(--theme-accent-primary-dim);
  border-color: var(--theme-accent-primary);
}

.zoom-level {
  color: var(--theme-text-secondary);
}

/* Map Scale Bar Theme */
.scale-line {
  background: var(--theme-accent-primary);
  border-color: var(--theme-accent-primary);
  box-shadow: 0 0 4px var(--theme-accent-primary-glow);
}

.scale-line::before,
.scale-line::after {
  background: var(--theme-accent-primary);
}

.scale-label {
  color: var(--theme-accent-primary);
}

.map-loading span {
  color: var(--theme-accent-primary);
}

.map-compass-n {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 8px var(--theme-accent-primary-glow);
}

/* Map theme overlay - red tint (scoped to theme) */
body.theme-aggressive-red .map-theme-overlay {
  background: rgba(255, 34, 68, 0.25);
}


/* ========== SPEEDOMETER THEME ========== */
.speedometer {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.speedo-value {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 15px var(--theme-accent-primary-glow);
}

.speedo-unit {
  color: var(--theme-text-secondary);
}

/* Odometer Theme */
.odometer {
  border-top-color: var(--theme-accent-primary-border);
}

.odo-digit {
  background: rgba(0, 0, 0, 0.5);
  border-color: var(--theme-accent-primary-border);
}

.odo-num {
  color: var(--theme-accent-primary);
}

.odo-unit {
  color: var(--theme-text-muted);
}

/* ========== POWER INDICATOR THEME ========== */
.power-indicator {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.power-label {
  color: var(--theme-text-muted);
}

.power-bar {
  background: rgba(0, 0, 0, 0.4);
  border-color: var(--theme-accent-primary-border);
}

.power-bar.active.level-0 {
  background: var(--theme-text-muted);
  border-color: var(--theme-text-muted);
}

.power-bar.active.level-1 {
  background: var(--theme-status-warning);
  border-color: var(--theme-status-warning);
  box-shadow: 0 0 8px var(--theme-status-warning);
}

.power-bar.active.level-2 {
  background: var(--theme-accent-primary);
  border-color: var(--theme-accent-primary);
  box-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

.power-mode {
  color: var(--theme-text-muted);
}

.power-mode.level-1 {
  color: var(--theme-status-warning);
}

.power-mode.level-2 {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 8px var(--theme-accent-primary-glow);
}

/* ========== MINIMAP THEME ========== */
.minimap {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.minimap-header {
  border-bottom-color: var(--theme-accent-primary-border);
}

.minimap-title {
  color: var(--theme-text-muted);
}

.minimap-coords {
  color: var(--theme-accent-primary);
}

.minimap-svg {
  background: rgba(0, 0, 0, 0.4);
  border-color: var(--theme-accent-primary-border);
}

.pulse-ring {
  animation: pulse-ring 2s ease-out infinite;
}

/* ========== CROSSHAIR THEME ========== */
.crosshair-h,
.crosshair-v {
  background: var(--theme-accent-primary);
}

.crosshair-h::before,
.crosshair-h::after,
.crosshair-v::before,
.crosshair-v::after {
  background: var(--theme-accent-primary);
}

.crosshair-center {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 10px var(--theme-accent-primary-glow);
}

/* ========== BOTTOM STRIP THEME ========== */
.hud-bottom-strip {
  background: linear-gradient(0deg, var(--theme-bg-gradient-end) 0%, transparent 100%);
}

.telem-label {
  color: var(--theme-text-muted);
}

.telem-value {
  color: var(--theme-accent-primary);
  text-shadow: 0 0 5px var(--theme-accent-primary-glow);
}

/* ========== CAMERA FEED THEME ========== */
.camera-status-overlay {
  background: rgba(0, 0, 0, 0.8);
}

.status-text {
  color: var(--theme-accent-primary);
  animation: pulse 1.5s ease-in-out infinite;
}

.status-text.error {
  color: var(--theme-status-danger);
  animation: none;
}

/* ========== VIGNETTE OVERLAY ========== */
/* Scoped to theme class so animation only runs when this theme is active */
body.theme-aggressive-red .main-camera-bg::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 2;
  background: radial-gradient(
    ellipse 70% 70% at center,
    transparent 0%,
    transparent 30%,
    rgba(20, 0, 0, 0.3) 60%,
    rgba(10, 0, 0, 0.6) 80%,
    rgba(0, 0, 0, 0.85) 100%
  );
  animation: heartbeat-vignette 2.8s ease-in-out infinite;
}

@keyframes heartbeat-vignette {
  /* Rest state - calm */
  0% {
    opacity: 0.45;
  }
  /* First beat (lub) - deep, full intensity */
  5% {
    opacity: 1;
  }
  /* Quick relax after first beat */
  12% {
    opacity: 0.5;
  }
  /* Second beat (dub) - lighter, shorter */
  17% {
    opacity: 0.75;
  }
  /* Return to rest */
  25% {
    opacity: 0.45;
  }
  /* Long pause - silent person resting */
  100% {
    opacity: 0.45;
  }
}

/* ========== TELEMETRY LOG THEME ========== */
.telemetry-log {
  background: var(--theme-bg-overlay);
  border-color: var(--theme-accent-primary-border);
}

.tlog-header {
  background: rgba(var(--theme-accent-primary-rgb), 0.05);
  border-bottom-color: var(--theme-accent-primary-border);
}

.tlog-title {
  color: var(--theme-text-muted);
}

.tlog-status.connected {
  color: var(--theme-accent-primary);
}

.tlog-status.connecting {
  color: var(--theme-status-warning);
  animation: blink 1s ease-in-out infinite;
}

.tlog-status.disconnected {
  color: var(--theme-status-danger);
}

.tlog-console::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

.tlog-console::-webkit-scrollbar-thumb {
  background: var(--theme-accent-primary-border);
}

.tlog-console::-webkit-scrollbar-thumb:hover {
  background: var(--theme-accent-primary);
}

.tlog-empty {
  color: var(--theme-text-muted);
}

.tlog-entry {
  border-bottom-color: rgba(var(--theme-accent-primary-rgb), 0.1);
  color: var(--theme-accent-primary);
}

.tlog-time {
  color: var(--theme-text-secondary);
}

.tlog-data {
  color: var(--theme-accent-primary);
}

